<p id='notice'><%= notice %></p>
<div class='batch-process-show-details'>
  <p>
    <strong>BatchID:</strong>
    <%= @batch_process.id %>
  </p>
  <p>
    <strong>User:</strong>
    <%= @batch_process.user.uid %>
  </p>
  <p>
    <strong>Status:</strong>
    TODO: Status
  </p>
  <p>
    <strong>Submitted:</strong>
    <%= @batch_process.created_at %>
  </p>
</div>

<table class='table table-bordered table-striped'>
  <thead class='thead-dark'>
    <tr>
      <th scope='col'> Parent Oid </th>
      <th scope='col'> Children </th>
    </tr>
  </thead>
    <% @batch_process.oids.each do |parent_oid| %>
      <% parent_object = ParentObject.find_by_oid(parent_oid) %>
      <tr>
        <td class='parent_oid' ><%= link_to_unless(parent_object.nil?, parent_oid, parent_object_path(parent_oid)) %></td>
        <td class='child_count'><%= parent_object&.child_object_count || '(deleted)' %></td>
      </tr>
    <% end %>
</table>
