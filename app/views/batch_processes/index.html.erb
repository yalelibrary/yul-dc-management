<div class='container'>
  <% if flash[:notice] %>
    <div class='notice'><%= flash[:notice] %></div>
  <% end %>
  <h1>Batch Processes</h1>
  <%= render 'form' %>
</div>

<div class='row'>
  <div class='col overflow-auto'>
    <table id='batch-processes-datatable' class='table table-responsive table-bordered table-striped' data-source='<%= batch_processes_path(format: :json) %>'>
      <thead class='thead-dark'>
        <tr>
          <th scope='col'> Process Id </th>
          <th scope='col'> User </th>
          <th scope='col'> Items </th>
          <th scope='col'> Status </th>
          <th scope='col'> Start </th>
          <th scope='col'> Duration </th>
          <th scope='col'> Object Details </th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>
  </div>
</div>

<div id='batch-processes-data' class='d-none'>
  <%= BatchProcessDatatable.new(nil).view_columns.keys.map {|key| {data: key} }.to_json %>
</div>
